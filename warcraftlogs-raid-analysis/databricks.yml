# This is a Databricks asset bundle definition for my warcraftlogs-raid-analysis data product
# See https://docs.databricks.com/dev-tools/bundles/index.html for documentation
##
bundle:
  name: warcraftlogs-pipeline

files:
  - dashboards/**
  - jobs/**
  - notebooks/**
  - utils/**
 
targets:
  default:
    mode: development
    default: true
    workspace:
      host: "{{env.DATABRICKS_HOST_ADDRESS}}"
      root_path: ~/warcraftlogs-raid-analysis

resources:
  jobs:
    warcraft-job:
      path: workflows/bronze-ingestion-extraction-job.job.yaml
    tasks:
      - task-key: bronze-ingestion
          notebook_task:
            notebook_path: ./notebooks/01-bronze/bronze-ingestion.py
          existing_cluster_id: "{{env.DATABRICKS_CLUSTER_ID}}"
      - task-key: bronze-extraction
          notebook_task:
            notebook_path: ./notebooks/01-bronze/bronze-extraction.py
          existing_cluster_id: "{{env.DATABRICKS_CLUSTER_ID}}"
